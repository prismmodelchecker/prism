mdp

module Fifteen
  // 0 = initial; 1..15 = uncertain successors; 16 = goal; 17 = sink
  s : [0..17] init 0;

  // ---- Action a: one heavy, two medium, rest small
  // lo sum = 0.30 + 2*0.05 + 12*0.02 = 0.64  <= 1
  // hi sum = 0.60 + 2*0.25 + 12*0.12 = 2.54 >= 1
  [a] s=0 ->
      [0.30,0.60] : (s'=1)  +
      [0.05,0.25] : (s'=2)  +
      [0.05,0.25] : (s'=3)  +
      [0.02,0.12] : (s'=4)  +
      [0.02,0.12] : (s'=5)  +
      [0.02,0.12] : (s'=6)  +
      [0.02,0.12] : (s'=7)  +
      [0.02,0.12] : (s'=8)  +
      [0.02,0.12] : (s'=9)  +
      [0.02,0.12] : (s'=10) +
      [0.02,0.12] : (s'=11) +
      [0.02,0.12] : (s'=12) +
      [0.02,0.12] : (s'=13) +
      [0.02,0.12] : (s'=14) +
      [0.02,0.12] : (s'=15);

  // ---- Action b: two “heads” elsewhere, many smalls (different shape)
  // lo sum = 2*0.12 + 13*0.01 = 0.37  <= 1
  // hi sum = 2*0.32 + 13*0.09 = 1.81 >= 1
  [b] s=0 ->
      [0.01,0.09] : (s'=1)  +
      [0.01,0.09] : (s'=2)  +
      [0.01,0.09] : (s'=3)  +
      [0.01,0.09] : (s'=4)  +
      [0.01,0.09] : (s'=5)  +
      [0.01,0.09] : (s'=6)  +
      [0.01,0.09] : (s'=7)  +
      [0.12,0.32] : (s'=8)  +   // head #1 placed away from action a's heavy
      [0.12,0.32] : (s'=9)  +   // head #2
      [0.01,0.09] : (s'=10) +
      [0.01,0.09] : (s'=11) +
      [0.01,0.09] : (s'=12) +
      [0.01,0.09] : (s'=13) +
      [0.01,0.09] : (s'=14) +
      [0.01,0.09] : (s'=15);

  // successors: 1..6 -> goal, 7..15 -> sink
  [] s=1  -> (s'=16);
  [] s=2  -> (s'=16);
  [] s=3  -> (s'=16);
  [] s=4  -> (s'=16);
  [] s=5  -> (s'=16);
  [] s=6  -> (s'=16);

  [] s=7  -> (s'=17);
  [] s=8  -> (s'=17);
  [] s=9  -> (s'=17);
  [] s=10 -> (s'=17);
  [] s=11 -> (s'=17);
  [] s=12 -> (s'=17);
  [] s=13 -> (s'=17);
  [] s=14 -> (s'=17);
  [] s=15 -> (s'=17);

  // absorbing goal/sink
  [] s=16 -> (s'=16);
  [] s=17 -> (s'=17);
endmodule

label "goal" = s=16;
label "Crash" = s=17;
